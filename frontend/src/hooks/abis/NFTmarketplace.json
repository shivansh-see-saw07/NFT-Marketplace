{
  "_format": "hh-sol-artifact-1",
  "contractName": "NFTmarketplace",
  "sourceName": "contracts/NFTmarketplace.sol",
  "abi": [
    {
      "inputs": [],
      "name": "NFTmarketplace__NoProceeds",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NFTmarketplace__contract_must_be_approved",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NFTmarketplace__insufficient_payment",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "nftContract",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        }
      ],
      "name": "NFTmarketplace__item_already_listed",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NFTmarketplace__item_not_listed",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NFTmarketplace__only_owner",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NFTmarketplace__price_must_be_greater_than_zero",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ReentrancyGuardReentrantCall",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "nftContract",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "buyer",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "seller",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "paymentToken",
          "type": "address"
        }
      ],
      "name": "ItemBought",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "seller",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "nftContract",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        }
      ],
      "name": "ItemCancelled",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "nftContract",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "seller",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "paymentToken",
          "type": "address"
        }
      ],
      "name": "ItemListed",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_nftAddress",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_tokenID",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_amount",
          "type": "uint256"
        }
      ],
      "name": "buyItem",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "nftAddress",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        }
      ],
      "name": "cancelListing",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        }
      ],
      "name": "getLatestPrice",
      "outputs": [
        {
          "internalType": "int256",
          "name": "",
          "type": "int256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "nftAddress",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        }
      ],
      "name": "getListing",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "seller",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "price",
              "type": "uint256"
            },
            {
              "internalType": "address",
              "name": "paymentToken",
              "type": "address"
            }
          ],
          "internalType": "struct NFTmarketplace.Listing",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        }
      ],
      "name": "getPriceFeed",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "paymentToken",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "priceInUSD",
          "type": "uint256"
        }
      ],
      "name": "getPriceInToken",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "seller",
          "type": "address"
        }
      ],
      "name": "getProceeds",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_nftContract",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_tokenId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_price",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "_paymentToken",
          "type": "address"
        }
      ],
      "name": "listItems",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "priceFeed",
          "type": "address"
        }
      ],
      "name": "setPriceFeed",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "nftAddress",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "newPrice",
          "type": "uint256"
        }
      ],
      "name": "updateListing",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "withdrawProceeds",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x6080806040523461001b576001600055610ede90816100218239f35b600080fdfe60406080815260048036101561001457600080fd5b600091823560e01c806316345f1814610abe57806330cfeda914610a865780635b6cca8014610a4b57806376e11286146109f757806388700d1c146109625780639038e69314610883578063b2ddee0614610757578063bff1b40c14610723578063f570d73114610498578063f6b45c46146101f35763f772adf11461009957600080fd5b346101ef576100a736610aff565b939160018060a09593951b038091169283875260209060038252838820868952825283882084516100d781610b29565b848254168152858560026001850154948588860152015416910152156101e15783516331a9108f60e11b81528181018790528281602481895afa9081156101d7579084918a916101aa575b5016330361019c57508387526003808252838820868952825283882060010187905584885281528287208588529052818620600201549151948552166001600160a01b0316602084015233927f14a4b1ad42c99ec31f6df48c3e2b31d0a51452f57f7371560380c3675b5c30979080604081015b0390a480f35b83516306b1cde960e31b8152fd5b6101ca9150843d86116101d0575b6101c28183610b5b565b810190610b7d565b38610122565b503d6101b8565b85513d8b823e3d90fd5b835163107c70c760e11b8152fd5b8280fd5b5082906101ff36610aff565b9491909261020b610e85565b60018060a01b0380921692838652602092600384528287208688528452828720835161023681610b29565b82825416815284836002600185015494858a86015201541691015215610489578697856002985260038552838920878a5285528389209284519161027983610b29565b8385541683526102a18460018701549b8c978a87019d8e520154169587850196808852610cb1565b809185875116156000146103e457505034106103d657828251168a5260028652848a208054903482018092116103c357555b868a5260038652848a20888b528652896002868220828155826001820155015582825116908a883b156103c0578651632142170760e11b81526001600160a01b03909316828401908152336020820152604081018b9052839081906060010381838c5af180156103b657610386575b50508190511696519151169282519687528601528401527fef18a713c2a63e575f5729085a9404ec5aad56975e581302ca7cf2249184ed6760603394a46001815580f35b67ffffffffffffffff829b939b116103a35750845297818a610342565b634e487b7160e01b835260419052602482fd5b86513d8d823e3d90fd5b80fd5b634e487b7160e01b8c526011835260248cfd5b84516306c2922b60e41b8152fd5b1061047a578451835187516323b872dd60e01b8152338582019081529187166001600160a01b031660208301526040820193909352889183919087169082908f90829060600103925af180156103b65761043f575b506102d3565b8681813d8311610473575b6104548183610b5b565b8101031261046f57518015150361046b578a610439565b8980fd5b8a80fd5b503d61044a565b5084516306c2922b60e41b8152fd5b50905163107c70c760e11b8152fd5b5090346101ef5760803660031901126101ef576104b3610ae4565b60443592602435929160643591906001600160a01b038084169182850361071f5781169485895260209060038252848a20888b528252848a2085516104f781610b29565b8482541681528685600260018501549485888601520154169101526107035784516331a9108f60e11b815281810189905282816024818b5afa9081156103b6579084918c916106e6575b501633036106d85788156106ca57845163020604bf60e21b815281810189905282816024818b5afa9081156103b6578b916106ad575b50833091160361069c5789888a9493899387610637575b509284887f14a4b1ad42c99ec31f6df48c3e2b31d0a51452f57f7371560380c3675b5c30979a9896946002948299976101969c51956105cc87610b29565b338752818701998a528487019a8b528352600381528383209183525220915116936bffffffffffffffffffffffff60a01b94858354161782555160018201550192511690825416179055519182913397839092916020906040830194835260018060a01b0316910152565b9350939450508490526001825282858b2054161561065b5789888a9493899361058e565b60649185519162461bcd60e51b8352820152601c60248201527f50726963652066656564206e6f742073657420666f7220746f6b656e000000006044820152fd5b8451600162224b3d60e21b03198152fd5b6106c49150833d85116101d0576101c28183610b5b565b38610577565b84516326d3eb5960e01b8152fd5b84516306b1cde960e31b8152fd5b6106fd9150843d86116101d0576101c28183610b5b565b38610541565b6044908888875192631f821b3b60e11b84528301526024820152fd5b8880fd5b83823461075357806003193601126107535760209061074c610743610ae4565b60243590610cb1565b9051908152f35b5080fd5b5090346101ef57816003193601126101ef57610771610ae4565b916024359260018060a01b03809116928251916331a9108f60e11b835285828401526020928381602481895afa90811561087957908291899161085c575b5016330361084d5784875260038352838720868852835283872090848051916107d783610b29565b808454168352600260018501549485888601520154169101521561083f5750849160029184845260038152818420908685525282208281558260018201550155337f6e08c1d889d309942730e4afa7963d0c5294a34a479f2c8cf39a953f287dcdee8480a480f35b825163107c70c760e11b8152fd5b5082516306b1cde960e31b8152fd5b6108739150853d87116101d0576101c28183610b5b565b386107af565b85513d8a823e3d90fd5b50346101ef57826003193601126101ef5761089c610e85565b338352600260205280832054801561095457838080809333825260026020528186812055335af13d1561094f573d67ffffffffffffffff811161093c578251906108f0601f8201601f191660200183610b5b565b81528460203d92013e5b1561090757826001815580f35b906020606492519162461bcd60e51b8352820152600f60248201526e151c985b9cd9995c8819985a5b1959608a1b6044820152fd5b634e487b7160e01b855260418452602485fd5b6108fa565b5051631207ef3960e31b8152fd5b8382346107535780600319360112610753579081606092610981610ae4565b928082805161098f81610b29565b828152826020820152015260018060a01b03809416815260036020528181206024358252602052209181516109c381610b29565b8184541693848252838360026001840154936020860194855201541692019182528351948552516020850152511690820152f35b838234610753578060031936011261075357610a11610ae4565b6001600160a01b03602435818116939290849003610a47571683526001602052822080546001600160a01b031916909117905580f35b8480fd5b838234610753576020366003190112610753576020916001600160a01b0390829082610a75610ae4565b168152600185522054169051908152f35b8382346107535760203660031901126107535760209181906001600160a01b03610aae610ae4565b1681526002845220549051908152f35b8382346107535760203660031901126107535760209061074c610adf610ae4565b610bb3565b600435906001600160a01b0382168203610afa57565b600080fd5b6060906003190112610afa576004356001600160a01b0381168103610afa57906024359060443590565b6060810190811067ffffffffffffffff821117610b4557604052565b634e487b7160e01b600052604160045260246000fd5b90601f8019910116810190811067ffffffffffffffff821117610b4557604052565b90816020910312610afa57516001600160a01b0381168103610afa5790565b519069ffffffffffffffffffff82168203610afa57565b6001600160a01b039081166000908152600160205260408120549091168015610c575760a060049160405192838092633fabe5a360e21b82525afa918215610c4b578092610c0057505090565b90915060a0823d8211610c43575b81610c1b60a09383610b5b565b810103126103c05750610c2d81610b9c565b50610c3f608060208301519201610b9c565b5090565b3d9150610c0e565b604051903d90823e3d90fd5b60405162461bcd60e51b8152602060048201526012602482015271141c9a58d94819995959081b9bdd081cd95d60721b6044820152606490fd5b8115610c9b570490565b634e487b7160e01b600052601260045260246000fd5b6001600160a01b03808216939291908415610da757906020600493926000968752600182526040872054166040519485809263313ce56760e01b82525afa928315610d9c578593610d5d575b50610d0960ff91610bb3565b9216604d8111610d4957600a0a90818102918183041490151715610d3557610d32929350610c91565b90565b634e487b7160e01b84526011600452602484fd5b634e487b7160e01b85526011600452602485fd5b9092506020813d8211610d94575b81610d7860209383610b5b565b81010312610a47575160ff81168103610a475791610d09610cfd565b3d9150610d6b565b6040513d87823e3d90fd5b600080805260016020527fa6eef7e35abe7026729641147f7915573c7e97b47efa546f5f6e3230263bcb4954909550169190508115610c575760a060049260405193848092633fabe5a360e21b82525afa918215610e7a578492610e28575b506305f5e10090818102918183041490151715610d3557610d32929350610c91565b90915060a0813d8211610e72575b81610e4360a09383610b5b565b81010312610e6e57610e5481610b9c565b50610e66608060208301519201610b9c565b509038610e06565b8380fd5b3d9150610e36565b6040513d86823e3d90fd5b600260005414610e96576002600055565b604051633ee5aeb560e01b8152600490fdfea2646970667358221220e166d730806b1bbd0616ed661b6af05fd7e29510077f63d8d78c96b50c10d7f064736f6c63430008140033",
  "deployedBytecode": "0x60406080815260048036101561001457600080fd5b600091823560e01c806316345f1814610abe57806330cfeda914610a865780635b6cca8014610a4b57806376e11286146109f757806388700d1c146109625780639038e69314610883578063b2ddee0614610757578063bff1b40c14610723578063f570d73114610498578063f6b45c46146101f35763f772adf11461009957600080fd5b346101ef576100a736610aff565b939160018060a09593951b038091169283875260209060038252838820868952825283882084516100d781610b29565b848254168152858560026001850154948588860152015416910152156101e15783516331a9108f60e11b81528181018790528281602481895afa9081156101d7579084918a916101aa575b5016330361019c57508387526003808252838820868952825283882060010187905584885281528287208588529052818620600201549151948552166001600160a01b0316602084015233927f14a4b1ad42c99ec31f6df48c3e2b31d0a51452f57f7371560380c3675b5c30979080604081015b0390a480f35b83516306b1cde960e31b8152fd5b6101ca9150843d86116101d0575b6101c28183610b5b565b810190610b7d565b38610122565b503d6101b8565b85513d8b823e3d90fd5b835163107c70c760e11b8152fd5b8280fd5b5082906101ff36610aff565b9491909261020b610e85565b60018060a01b0380921692838652602092600384528287208688528452828720835161023681610b29565b82825416815284836002600185015494858a86015201541691015215610489578697856002985260038552838920878a5285528389209284519161027983610b29565b8385541683526102a18460018701549b8c978a87019d8e520154169587850196808852610cb1565b809185875116156000146103e457505034106103d657828251168a5260028652848a208054903482018092116103c357555b868a5260038652848a20888b528652896002868220828155826001820155015582825116908a883b156103c0578651632142170760e11b81526001600160a01b03909316828401908152336020820152604081018b9052839081906060010381838c5af180156103b657610386575b50508190511696519151169282519687528601528401527fef18a713c2a63e575f5729085a9404ec5aad56975e581302ca7cf2249184ed6760603394a46001815580f35b67ffffffffffffffff829b939b116103a35750845297818a610342565b634e487b7160e01b835260419052602482fd5b86513d8d823e3d90fd5b80fd5b634e487b7160e01b8c526011835260248cfd5b84516306c2922b60e41b8152fd5b1061047a578451835187516323b872dd60e01b8152338582019081529187166001600160a01b031660208301526040820193909352889183919087169082908f90829060600103925af180156103b65761043f575b506102d3565b8681813d8311610473575b6104548183610b5b565b8101031261046f57518015150361046b578a610439565b8980fd5b8a80fd5b503d61044a565b5084516306c2922b60e41b8152fd5b50905163107c70c760e11b8152fd5b5090346101ef5760803660031901126101ef576104b3610ae4565b60443592602435929160643591906001600160a01b038084169182850361071f5781169485895260209060038252848a20888b528252848a2085516104f781610b29565b8482541681528685600260018501549485888601520154169101526107035784516331a9108f60e11b815281810189905282816024818b5afa9081156103b6579084918c916106e6575b501633036106d85788156106ca57845163020604bf60e21b815281810189905282816024818b5afa9081156103b6578b916106ad575b50833091160361069c5789888a9493899387610637575b509284887f14a4b1ad42c99ec31f6df48c3e2b31d0a51452f57f7371560380c3675b5c30979a9896946002948299976101969c51956105cc87610b29565b338752818701998a528487019a8b528352600381528383209183525220915116936bffffffffffffffffffffffff60a01b94858354161782555160018201550192511690825416179055519182913397839092916020906040830194835260018060a01b0316910152565b9350939450508490526001825282858b2054161561065b5789888a9493899361058e565b60649185519162461bcd60e51b8352820152601c60248201527f50726963652066656564206e6f742073657420666f7220746f6b656e000000006044820152fd5b8451600162224b3d60e21b03198152fd5b6106c49150833d85116101d0576101c28183610b5b565b38610577565b84516326d3eb5960e01b8152fd5b84516306b1cde960e31b8152fd5b6106fd9150843d86116101d0576101c28183610b5b565b38610541565b6044908888875192631f821b3b60e11b84528301526024820152fd5b8880fd5b83823461075357806003193601126107535760209061074c610743610ae4565b60243590610cb1565b9051908152f35b5080fd5b5090346101ef57816003193601126101ef57610771610ae4565b916024359260018060a01b03809116928251916331a9108f60e11b835285828401526020928381602481895afa90811561087957908291899161085c575b5016330361084d5784875260038352838720868852835283872090848051916107d783610b29565b808454168352600260018501549485888601520154169101521561083f5750849160029184845260038152818420908685525282208281558260018201550155337f6e08c1d889d309942730e4afa7963d0c5294a34a479f2c8cf39a953f287dcdee8480a480f35b825163107c70c760e11b8152fd5b5082516306b1cde960e31b8152fd5b6108739150853d87116101d0576101c28183610b5b565b386107af565b85513d8a823e3d90fd5b50346101ef57826003193601126101ef5761089c610e85565b338352600260205280832054801561095457838080809333825260026020528186812055335af13d1561094f573d67ffffffffffffffff811161093c578251906108f0601f8201601f191660200183610b5b565b81528460203d92013e5b1561090757826001815580f35b906020606492519162461bcd60e51b8352820152600f60248201526e151c985b9cd9995c8819985a5b1959608a1b6044820152fd5b634e487b7160e01b855260418452602485fd5b6108fa565b5051631207ef3960e31b8152fd5b8382346107535780600319360112610753579081606092610981610ae4565b928082805161098f81610b29565b828152826020820152015260018060a01b03809416815260036020528181206024358252602052209181516109c381610b29565b8184541693848252838360026001840154936020860194855201541692019182528351948552516020850152511690820152f35b838234610753578060031936011261075357610a11610ae4565b6001600160a01b03602435818116939290849003610a47571683526001602052822080546001600160a01b031916909117905580f35b8480fd5b838234610753576020366003190112610753576020916001600160a01b0390829082610a75610ae4565b168152600185522054169051908152f35b8382346107535760203660031901126107535760209181906001600160a01b03610aae610ae4565b1681526002845220549051908152f35b8382346107535760203660031901126107535760209061074c610adf610ae4565b610bb3565b600435906001600160a01b0382168203610afa57565b600080fd5b6060906003190112610afa576004356001600160a01b0381168103610afa57906024359060443590565b6060810190811067ffffffffffffffff821117610b4557604052565b634e487b7160e01b600052604160045260246000fd5b90601f8019910116810190811067ffffffffffffffff821117610b4557604052565b90816020910312610afa57516001600160a01b0381168103610afa5790565b519069ffffffffffffffffffff82168203610afa57565b6001600160a01b039081166000908152600160205260408120549091168015610c575760a060049160405192838092633fabe5a360e21b82525afa918215610c4b578092610c0057505090565b90915060a0823d8211610c43575b81610c1b60a09383610b5b565b810103126103c05750610c2d81610b9c565b50610c3f608060208301519201610b9c565b5090565b3d9150610c0e565b604051903d90823e3d90fd5b60405162461bcd60e51b8152602060048201526012602482015271141c9a58d94819995959081b9bdd081cd95d60721b6044820152606490fd5b8115610c9b570490565b634e487b7160e01b600052601260045260246000fd5b6001600160a01b03808216939291908415610da757906020600493926000968752600182526040872054166040519485809263313ce56760e01b82525afa928315610d9c578593610d5d575b50610d0960ff91610bb3565b9216604d8111610d4957600a0a90818102918183041490151715610d3557610d32929350610c91565b90565b634e487b7160e01b84526011600452602484fd5b634e487b7160e01b85526011600452602485fd5b9092506020813d8211610d94575b81610d7860209383610b5b565b81010312610a47575160ff81168103610a475791610d09610cfd565b3d9150610d6b565b6040513d87823e3d90fd5b600080805260016020527fa6eef7e35abe7026729641147f7915573c7e97b47efa546f5f6e3230263bcb4954909550169190508115610c575760a060049260405193848092633fabe5a360e21b82525afa918215610e7a578492610e28575b506305f5e10090818102918183041490151715610d3557610d32929350610c91565b90915060a0813d8211610e72575b81610e4360a09383610b5b565b81010312610e6e57610e5481610b9c565b50610e66608060208301519201610b9c565b509038610e06565b8380fd5b3d9150610e36565b6040513d86823e3d90fd5b600260005414610e96576002600055565b604051633ee5aeb560e01b8152600490fdfea2646970667358221220e166d730806b1bbd0616ed661b6af05fd7e29510077f63d8d78c96b50c10d7f064736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
